/*! angular-boomerang-cache 2016-09-25 */
!function(a,b){"use strict";angular.module("boomerang.cache",[]).provider("boomerangCache",function(){this.storage="local",this.setStorageType=function(a){return this.storage=a,this.storage},this.getStorageType=function(){return this.storage};var a={storage:this.storage};this.$get=function(){return b(a)}})}(this,function(a){"use strict";function b(a,b){if(this.options=b,this.storage=this.api[this.options.storage],"undefined"==typeof this.storage)throw"Undefined factory";this.storage.check()&&(this.namespace=""!=d.trim(a)?d.trim(a):"BoomerangCache")}var c,d,e;return e="__boomerangExpire__",b.prototype.hasExpired=function(a){var b=d.expireKey(this.namespace,a),c=parseInt(this.storage.getItem(b),10);return!!(c&&c<d.currentTime())},d=function(){return{extend:function(){for(var a=1;a<arguments.length;a++)for(var b in arguments[a])arguments[a].hasOwnProperty(b)&&(arguments[0][b]=arguments[a][b]);return arguments[0]},trim:function(a){return a.replace(/^\s+|\s+$/gm,"")},namespaceKey:function(a,b){return a+":"+b},expireKey:function(a,b){return this.namespaceKey(a,e+b)},currentTime:function(){return(new Date).getTime()}}}(),c=function(a){var c,e={storage:"local"};return a&&(e=a),{create:function(a,f){return f=d.extend(e,f),c=new b(a,f)}}}(a),b.prototype.api={local:{check:function(){var a="__BoomerangCache__",b="BoomerangCache";try{return localStorage.setItem(a,b),localStorage.removeItem(a),!0}catch(a){return console.log("error"),!1}},getItem:function(a){return localStorage.getItem(a)},setItem:function(a,b){localStorage.removeItem(a),localStorage.setItem(a,b)},getAll:function(a){for(var b=Object.keys(localStorage),c={},d=b.length;d--;){var e=b[d].split(":");e[0]==a&&(c[e[1]]=localStorage.getItem(b[d]))}return c},getObject:function(a){var b=localStorage.getItem(a);return JSON.parse(b)},setObject:function(a,b){localStorage.removeItem(a),localStorage.setItem(a,JSON.stringify(b))},removeItem:function(a){return localStorage.removeItem(a)},clear:function(){localStorage.clear()}},session:{check:function(){var a="__BoomerangCache__",b="BoomerangCache";try{return sessionStorage.setItem(a,b),sessionStorage.removeItem(a),!0}catch(a){return console.log("error"),!1}},getItem:function(a){return sessionStorage.getItem(a)},setItem:function(a,b){sessionStorage.removeItem(a),sessionStorage.setItem(a,b)},getAll:function(a){for(var b=Object.keys(sessionStorage),c={},d=b.length;d--;){var e=b[d].split(":");e[0]==a&&(c[e[1]]=sessionStorage.getItem(b[d]))}return c},getObject:function(a){var b=sessionStorage.getItem(a);return JSON.parse(b)},setObject:function(a,b){sessionStorage.removeItem(a),sessionStorage.setItem(a,JSON.stringify(b))},removeItem:function(a){return sessionStorage.removeItem(a)},clear:function(){sessionStorage.clear()}}},b.prototype.set=function(a,b,c){var e=d.namespaceKey(this.namespace,a),f=d.expireKey(this.namespace,a);if(c){var g=1e3*c;this.storage.setItem(f,d.currentTime()+g)}else this.storage.removeItem(f);return"undefined"==typeof b?this.storage.removeItem(e):"object"==typeof b?(this.storage.setObject(e,b),b):(this.storage.setItem(e,b),b)},b.prototype.get=function(a,b){var c=d.namespaceKey(this.namespace,a);if(this.hasExpired(a))return this.storage.removeItem(c),this.storage.removeItem(d.expireKey(this.namespace,a)),null;var e=this.storage.getItem(c);if("undefined"!=typeof e||null!=e)try{return JSON.parse(e)}catch(a){}return"undefined"!=typeof e?e:b},b.prototype.getAll=function(){return this.storage.getAll(this.namespace)},b.prototype.remove=function(a){return a=d.namespaceKey(this.namespace,a),this.storage.removeItem(a)},b.prototype.length=function(){return Object.keys(this.storage.getAll(this.namespace)).length},b.prototype.clear=function(){this.storage.clear()},b.prototype.check=function(){return this.storage.check()},c});